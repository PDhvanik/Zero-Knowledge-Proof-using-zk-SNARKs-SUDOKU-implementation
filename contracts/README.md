This directory will contain the Solidity verifier (e.g., Verifier.sol) after running:

npm run verifier:sol

# contracts/

Smart contracts for verifying Sudoku proofs on-chain and recording successful proofs.

Key contracts:
- `Verifier.sol` – Autogenerated Groth16 verifier by `snarkjs`. Verifies `proof` against `publicSignals`.
- `SudokuVerifierConsumer.sol` – Thin wrapper around the verifier that:
  - Checks that the `publicSignals` correspond to the provided `unsolved` and `clueFlags`.
  - Calls `verifyProof` on the `Verifier`.
  - Computes a unique key: `keccak256(a, b, c, puzzleHash)` where `puzzleHash = keccak256(unsolved, clueFlags)`.
  - Stores a simple `ProofRecord` (exists, puzzleHash, timestamp) keyed by that hash.

Deployment (Truffle):
1. Compile and migrate:
```bash
npm run truffle:compile
npm run truffle:migrate
```
2. Configure the backend with the deployed addresses via `.env`:
- `VERIFIER_CONTRACT_ADDRESS`
- `CONSUMER_CONTRACT_ADDRESS`

Notes:
- `Verifier.sol` is generated; do not edit it manually.
- Consider Hardhat/Foundry for alternative workflows in production environments.
